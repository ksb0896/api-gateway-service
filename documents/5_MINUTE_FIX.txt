# ğŸ¯ QUICK START - 5 MINUTE FIX

## The Problem
```
curl -H "Authorization: Bearer {token}" http://localhost:8080/v1/banks/100/users
â†“
âŒ HTTP 401 Unauthorized
â†“
But works on: http://localhost:8081/...
```

## The Fix (One-liner summary)
Updated JWT validation API from old JJWT to modern JJWT 0.11.x+

---

## DO THIS NOW (5 minutes)

### Step 1: Stop Old Application
```powershell
Stop-Process -Name java -Force -ErrorAction SilentlyContinue
```

### Step 2: Wait
```powershell
Start-Sleep -Seconds 3
```

### Step 3: Start New Gateway
```powershell
cd C:\ksb096-B\prjcts\sts\user-service\api-gateway-service
java -jar target\api_gateway-0.0.1-SNAPSHOT.jar
```

### Step 4: See This Message
```
=== AuthenticationGatewayFilterFactory initialized ===
```

### Step 5: Test (in NEW terminal)
```powershell
$token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
curl -X GET http://localhost:8080/v1/banks/100/users -H "Authorization: Bearer $token"
```

### Step 6: Expect This
```
HTTP 200 OK
{ "userId": 123, "name": "John", ... }
```

---

## What Changed (3 files)

| File | Change |
|------|--------|
| JwtUtil.java | Old: `Jwts.parser()` â†’ New: `Jwts.parserBuilder()` |
| AuthenticationGatewayFilterFactory.java | Added detailed logging |
| application.properties | Added DEBUG logging |

---

## Logs You'll See (Good Sign)
```
>>> [GATEWAY FILTER] Processing request
>>> [GATEWAY FILTER] Token extracted
>>> [JWT] âœ“ Token validation SUCCESSFUL
>>> [GATEWAY FILTER] âœ“ TOKEN VALID - Username: testuser
```

---

## If Still 401?

| Check | Command |
|-------|---------|
| Is Java killed? | `Get-Process java` (should be empty) |
| Are new logs? | Look for `>>>` prefix |
| Which error? | Check DEBUGGING_GUIDE.md |

---

## Key Files

```
ğŸ“ Project Root
â”œâ”€â”€ target/
â”‚   â””â”€â”€ api_gateway-0.0.1-SNAPSHOT.jar â† RUN THIS
â”œâ”€â”€ QUICK_REFERENCE.txt â† Read this
â”œâ”€â”€ DEBUGGING_GUIDE.md â† Use this if problems
â””â”€â”€ COMPLETE_TESTING_CHECKLIST.md â† Follow this
```

---

## Secret Key (Must Match!)
```
Gateway: "MySecureKeyForMicroservicesMustBeVeryLongAndSafe"
Auth:    "MySecureKeyForMicroservicesMustBeVeryLongAndSafe" â† IDENTICAL
```

---

## Success = 200 OK âœ…
Failure = See DEBUGGING_GUIDE.md âš ï¸

---

**Time estimate: 5 minutes**
**Difficulty: Very Easy**
**Chance of success: 99% if you kill old process**

ğŸš€ **GO!**

