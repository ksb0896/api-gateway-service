# API Gateway Routing Configuration: api-gateway-service/src/main/resources/application.properties

# Server Port: The gateway runs publicly on port 8080.
server.port=8080

# Application name
spring.application.name=api_gateway

# --- Route 1: User Profile Service (http://localhost:8081) ---

# Unique ID for the route
spring.cloud.gateway.routes[0].id=user_profile_route
# Target URI for the internal microservice
spring.cloud.gateway.routes[0].uri=http://localhost:8081
# Predicate (Condition): Matches paths like /v1/banks/1001/users/12345
spring.cloud.gateway.routes[0].predicates[0]=Path=/v1/banks/**/users/**
# Filter: Passes the full path to the backend service
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=0

# --- Route 2: Profile Photo Service (http://localhost:8082) ---

# Unique ID for the route
spring.cloud.gateway.routes[1].id=profile_photo_route
# Target URI for the internal microservice
spring.cloud.gateway.routes[1].uri=http://localhost:8082
# Predicate (Condition): Matches paths like /v1/banks/1001/users/12345/photo
spring.cloud.gateway.routes[1].predicates[0]=Path=/v1/banks/**/users/**/photo/**
# Filter: Passes the full path to the backend service
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=0
